(this["webpackJsonpinsta-gallery"]=this["webpackJsonpinsta-gallery"]||[]).push([[0],{25:function(e,t,c){},29:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),r=c(19),i=c.n(r),s=(c(25),c(8)),l=c(3),o=function(e){return Object(l.jsxs)("div",{className:"title",children:[Object(l.jsx)("h1",{children:"Photo Arcade"}),Object(l.jsx)("h2",{children:"All Pictures"}),Object(l.jsx)("p",{children:"Collection of curated pics."})]})},u=c(14),j=c.n(u),d=c(20),b=c(12);c(30),c(31);b.a.initializeApp({apiKey:"AIzaSyAzi3J5CLqwwKMfhZRGU1avich90khR5lU",authDomain:"photo-arcade.firebaseapp.com",projectId:"photo-arcade",storageBucket:"photo-arcade.appspot.com",messagingSenderId:"544561417840",appId:"1:544561417840:web:aa95ce6bbd6b467a152eb5"});var p=b.a.storage(),f=b.a.firestore(),O=b.a.firestore.FieldValue.serverTimestamp,g=function(e){var t=Object(a.useState)(0),c=Object(s.a)(t,2),n=c[0],r=c[1],i=Object(a.useState)(null),l=Object(s.a)(i,2),o=l[0],u=l[1],b=Object(a.useState)(null),g=Object(s.a)(b,2),h=g[0],m=g[1];return Object(a.useEffect)((function(){var t=p.ref(e.name),c=f.collection("images");t.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;r(t)}),(function(e){u(e)}),Object(d.a)(j.a.mark((function e(){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL();case 2:return a=e.sent,n=O(),e.next=6,c.add({url:a,createdAt:n});case 6:m(a);case 7:case"end":return e.stop()}}),e)}))))}),[e]),{progress:n,url:h,error:o}},h=c(33),m=function(e){var t=e.file,c=e.setFile,n=g(t),r=n.url,i=n.progress;return Object(a.useEffect)((function(){r&&c(null)}),[r,c]),Object(l.jsx)(h.a.div,{className:"progress-bar",initial:{width:0},animate:{width:i+"%"}})},v=function(e){var t=Object(a.useState)(null),c=Object(s.a)(t,2),n=c[0],r=c[1],i=Object(a.useState)(null),o=Object(s.a)(i,2),u=o[0],j=o[1],d=["image/png","image/jpeg"];return Object(l.jsxs)("form",{children:[Object(l.jsxs)("label",{children:[Object(l.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0];t&&d.includes(t.type)?(r(t),j("")):(r(null),j("Please select an image file (png or jpeg)"))}}),Object(l.jsx)("span",{children:"+"})]}),Object(l.jsxs)("div",{className:"output",children:[u&&Object(l.jsx)("div",{className:"error",children:u}),n&&Object(l.jsx)("div",{children:n.name}),n&&Object(l.jsx)(m,{file:n,setFile:r})]})]})},x=c(16),S=function(e){var t=Object(a.useState)([]),c=Object(s.a)(t,2),n=c[0],r=c[1],i=Object(a.useState)(!1),l=Object(s.a)(i,2),o=l[0],u=l[1];return Object(a.useEffect)((function(){u(!0);var t=f.collection(e).orderBy("createdAt","desc").onSnapshot((function(e){var t=[];e.docs.forEach((function(e){t.push(Object(x.a)(Object(x.a)({},e.data()),{},{id:e.id}))})),r(t),u(!1)}));return function(){return t()}}),[e]),{docs:n,loading:o}},y=function(e){var t=e.setSelectedImg,c=S("images"),a=c.docs,n=c.loading;return Object(l.jsxs)("div",{className:"img-grid",children:[n&&Object(l.jsx)("div",{className:"spinner"}),a&&!n&&a.map((function(e){return Object(l.jsx)(h.a.div,{className:"img-wrap",layout:!0,whileHover:{opacity:1},onClick:function(){return t(e.url)},children:Object(l.jsx)(h.a.img,{src:e.url,alt:"uploaded pic"})},e.id)}))]})},w=function(e){var t=e.selectedImg,c=e.setSelectedImg;return Object(l.jsx)(h.a.div,{className:"backdrop",onClick:function(e){e.target.classList.contains("backdrop")&&c(null)},initial:{opacity:0},animate:{opacity:1},children:Object(l.jsx)(h.a.img,{src:t,initial:{y:"-100vh"},animate:{y:0},alt:"enlarged pic"})})};var I=function(){var e=Object(a.useState)(null),t=Object(s.a)(e,2),c=t[0],n=t[1];return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(o,{}),Object(l.jsx)(v,{}),Object(l.jsx)(y,{setSelectedImg:n}),c&&Object(l.jsx)(w,{selectedImg:c,setSelectedImg:n})]})},k=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,34)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,i=t.getTTFB;c(e),a(e),n(e),r(e),i(e)}))};i.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(I,{})}),document.getElementById("root")),k()}},[[29,1,2]]]);
//# sourceMappingURL=main.9d229413.chunk.js.map